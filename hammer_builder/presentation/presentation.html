<!DOCTYPE html>
<!--
  Copyright 2010 Google Inc.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.

  Original slides: Marcin Wichary (mwichary@google.com)
  Modifications: Ernest Delgado (ernestd@google.com)
                 Alex Russell (slightlyoff@chromium.org)

  landslide modifications: Adam Zapletal (adamzap@gmail.com)
                           Nicolas Perriault (nperriault@gmail.com)
-->
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>HammerBuilder</title>
    <!-- Styles -->
    
    <link rel="stylesheet" media="print" href="default/css/print.css">
    <link rel="stylesheet" media="screen, projection" href="default/css/screen.css">
    
    
      
      <link rel="stylesheet" href="custom.css">
      
    
    <!-- /Styles -->
    <!-- Javascripts -->
    
    <script type="text/javascript" src="default/js/slides.js"></script>
    
    
      
      <script type="text/javascript" src="jquery-1.7.min.js"></script>
      
    
      
      <script type="text/javascript" src="highcharts.js"></script>
      
    
    <!-- /Javascripts -->
</head>
<body>
  <div id="blank"></div>
  <div class="presentation">
    <div id="current_presenter_notes">
      <div id="presenter_note"></div>
    </div>
    <div class="slides">
      
      <!-- slide source: presentation.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>HammerBuilder</h1></header>
            
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="presentation.md">presentation.md</a>
            </aside>
            
            <aside class="page_number">
              1/32
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: presentation.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Fast Ruby xhtml5, html5 renderer</h1></header>
            
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="presentation.md">presentation.md</a>
            </aside>
            
            <aside class="page_number">
              2/32
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: presentation.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Why?</h1></header>
            
            
            <section><p>I needed html builder for my yet very experimental framework Hammmer. I was looking for theese characteristics:</p>
<ul>
<li>Ruby</li>
<li>Fast</li>
<li>Extensibility for each tag</li>
</ul>
<p>Disadvanteges of other options:</p>
<ul>
<li>Erector - quite high level, no tag extensibility</li>
<li>Markaby - slow</li>
<li>Wee::Brush - extensible but not a standalone gem</li>
<li>Tagz - very slow</li>
<li>Erubis - fast but temlate engine and no tag extensibility</li>
<li>Tenjin - faster but temlate engine and no tag extensibility</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="presentation.md">presentation.md</a>
            </aside>
            
            <aside class="page_number">
              3/32
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: presentation.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>Syntax</h1></header>
            
            
            <section><div class="highlight"><pre><span class="lineno"> 1</span> <span class="no">HammerBuilder</span><span class="o">::</span><span class="no">Formatted</span><span class="o">.</span><span class="n">new</span><span class="o">.</span><span class="n">go_in</span> <span class="k">do</span>
<span class="lineno"> 2</span>   <span class="n">html5</span>
<span class="lineno"> 3</span>   <span class="n">html</span> <span class="k">do</span>
<span class="lineno"> 4</span>     <span class="n">head</span> <span class="p">{</span> <span class="n">title</span> <span class="s1">&#39;my_page&#39;</span> <span class="p">}</span>
<span class="lineno"> 5</span>     <span class="n">body</span> <span class="k">do</span>
<span class="lineno"> 6</span>       <span class="n">div</span><span class="o">.</span><span class="n">content!</span> <span class="k">do</span>
<span class="lineno"> 7</span>         <span class="nb">p</span><span class="o">.</span><span class="n">centered</span> <span class="s2">&quot;my page&#39;s content&quot;</span>
<span class="lineno"> 8</span>       <span class="k">end</span>
<span class="lineno"> 9</span>     <span class="k">end</span>
<span class="lineno">10</span>   <span class="k">end</span>
<span class="lineno">11</span> <span class="k">end</span><span class="o">.</span><span class="n">to_html!</span>
</pre></div>

<p>returns</p>
<div class="highlight"><pre><span class="lineno"> 1</span> <span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="lineno"> 2</span> <span class="nt">&lt;html</span> <span class="na">xmlns=</span><span class="s">&quot;http://www.w3.org/1999/xhtml&quot;</span><span class="nt">&gt;</span>
<span class="lineno"> 3</span>   <span class="nt">&lt;head&gt;</span>
<span class="lineno"> 4</span>     <span class="nt">&lt;title&gt;</span>my_page<span class="nt">&lt;/title&gt;</span>
<span class="lineno"> 5</span>   <span class="nt">&lt;/head&gt;</span>
<span class="lineno"> 6</span>   <span class="nt">&lt;body&gt;</span>
<span class="lineno"> 7</span>     <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;content&quot;</span><span class="nt">&gt;</span>
<span class="lineno"> 8</span>       <span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">&quot;centered&quot;</span><span class="nt">&gt;</span>my page&#39;s content<span class="nt">&lt;/p&gt;</span>
<span class="lineno"> 9</span>     <span class="nt">&lt;/div&gt;</span>
<span class="lineno">10</span>   <span class="nt">&lt;/body&gt;</span>
<span class="lineno">11</span> <span class="nt">&lt;/html&gt;</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="presentation.md">presentation.md</a>
            </aside>
            
            <aside class="page_number">
              4/32
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: presentation.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>Chaining</h1></header>
            
            
            <section><div class="highlight"><pre><span class="lineno">1</span> <span class="n">div</span><span class="o">.</span><span class="n">class</span><span class="p">(</span><span class="s1">&#39;left&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">id</span><span class="p">(</span><span class="s1">&#39;menu&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">class</span><span class="p">(</span><span class="s1">&#39;border&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">onclick</span><span class="p">(</span><span class="s1">&#39;run();&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">with</span> <span class="k">do</span>
<span class="lineno">2</span>   <span class="n">text</span> <span class="s1">&#39;hello&#39;</span>
<span class="lineno">3</span> <span class="k">end</span>
</pre></div>

<p>prints</p>
<div class="highlight"><pre><span class="lineno">1</span> <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;left border&quot;</span> <span class="na">id=</span><span class="s">&quot;menu&quot;</span> <span class="na">onclick=</span><span class="s">&quot;run();&quot;</span><span class="nt">&gt;</span>hello<span class="nt">&lt;/div&gt;</span>
</pre></div>

<p>Content block must be last in the chain. No other calls are allowed after block.</p>
<div class="highlight"><pre><span class="lineno">1</span> <span class="n">div</span> <span class="k">do</span>
<span class="lineno">2</span>   <span class="n">text</span> <span class="s1">&#39;content&#39;</span>
<span class="lineno">3</span> <span class="k">end</span><span class="o">.</span><span class="n">id</span><span class="p">(</span><span class="s1">&#39;an_id&#39;</span><span class="p">)</span> <span class="c1"># won&#39;t work</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="presentation.md">presentation.md</a>
            </aside>
            
            <aside class="page_number">
              5/32
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: presentation.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>Attributes</h1></header>
            
            
            <section><div class="highlight"><pre><span class="lineno">1</span> <span class="n">div</span> <span class="ss">:id</span> <span class="o">=&gt;</span> <span class="s1">&#39;menu&#39;</span><span class="p">,</span> <span class="ss">:class</span> <span class="o">=&gt;</span> <span class="s1">&#39;left&#39;</span> <span class="c1"># is shortcut for:</span>
<span class="lineno">2</span> <span class="n">div</span><span class="o">.</span><span class="n">attributes</span> <span class="ss">:id</span> <span class="o">=&gt;</span> <span class="s1">&#39;menu&#39;</span><span class="p">,</span> <span class="ss">:class</span> <span class="o">=&gt;</span> <span class="s1">&#39;left&#39;</span>
</pre></div>

<ul>
<li><code>#attributes</code> calls underlining methods <code>#id</code> and <code>#class</code></li>
<li>If you extend tag by a method, you can call it through <code>#attributes</code> or <code>#attribute</code></li>
</ul>
<p>Any attribute method you call is immediately appended to output with exception of classes. They are acumulating
until tag is closed.</p>
<div class="highlight"><pre><span class="lineno">1</span> <span class="n">div</span><span class="p">(</span><span class="ss">:class</span> <span class="o">=&gt;</span> <span class="s1">&#39;left&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">class</span><span class="p">(</span><span class="s1">&#39;center&#39;</span><span class="p">)</span> <span class="c1"># &lt;div class=&#39;left center&#39;&gt;&lt;/div&gt;</span>
<span class="lineno">2</span> <span class="n">div</span><span class="p">(</span><span class="ss">:id</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">id</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>                   <span class="c1"># &lt;div id=&quot;1&quot; id=&quot;2&quot;&gt;&lt;/div&gt;</span>
</pre></div>

<p>Udefined attribute can be rendered with.</p>
<div class="highlight"><pre><span class="lineno">1</span> <span class="n">html</span><span class="o">.</span><span class="n">attribute</span> <span class="ss">:xmlns</span><span class="p">,</span> <span class="s1">&#39;http://www.w3.org/1999/xhtml&#39;</span>
<span class="lineno">2</span> <span class="c1"># =&gt; &lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;&lt;/html&gt;</span>
</pre></div>

<p>If <code>#attribute</code> finds defined method for desired attribute, the method is called.</p>
<div class="highlight"><pre><span class="lineno">1</span> <span class="n">div</span><span class="o">.</span><span class="n">attribute</span> <span class="ss">:class</span> <span class="o">=&gt;</span> <span class="s1">&#39;left&#39;</span> <span class="c1"># is equvivalent to:</span>
<span class="lineno">2</span> <span class="n">div</span><span class="o">.</span><span class="n">class</span> <span class="s1">&#39;left&#39;</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="presentation.md">presentation.md</a>
            </aside>
            
            <aside class="page_number">
              6/32
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: presentation.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>Content, Boolean attributes</h1></header>
            
            
            <section><div class="highlight"><pre><span class="lineno"> 1</span> <span class="n">div</span> <span class="s1">&#39;content&#39;</span>                       <span class="c1"># &lt;div&gt;content&lt;/div&gt;</span>
<span class="lineno"> 2</span> <span class="n">div</span><span class="o">.</span><span class="n">content</span> <span class="s1">&#39;content&#39;</span>               <span class="c1"># &lt;div&gt;content&lt;/div&gt;</span>
<span class="lineno"> 3</span> <span class="n">div</span> <span class="ss">:content</span> <span class="o">=&gt;</span> <span class="s1">&#39;content&#39;</span>           <span class="c1"># &lt;div&gt;content&lt;/div&gt;</span>
<span class="lineno"> 4</span> <span class="n">div</span> <span class="p">{</span> <span class="n">text</span> <span class="s1">&#39;content&#39;</span> <span class="p">}</span>              <span class="c1"># &lt;div&gt;content&lt;/div&gt;</span>
<span class="lineno"> 5</span> <span class="n">div</span><span class="o">.</span><span class="n">with</span> <span class="p">{</span> <span class="n">text</span> <span class="s1">&#39;content&#39;</span> <span class="p">}</span>         <span class="c1"># &lt;div&gt;content&lt;/div&gt;</span>
<span class="lineno"> 6</span> <span class="n">div</span> <span class="s1">&#39;content&#39;</span><span class="p">,</span> <span class="ss">:id</span> <span class="o">=&gt;</span> <span class="ss">:id</span>           <span class="c1"># &lt;div id=&quot;id&quot;&gt;content&lt;/div&gt;</span>
<span class="lineno"> 7</span> <span class="n">div</span><span class="p">(</span><span class="ss">:id</span> <span class="o">=&gt;</span> <span class="ss">:id</span><span class="p">)</span> <span class="p">{</span> <span class="n">text</span> <span class="s1">&#39;content&#39;</span> <span class="p">}</span>  <span class="c1"># &lt;div id=&quot;id&quot;&gt;content&lt;/div&gt;</span>
<span class="lineno"> 8</span> <span class="n">div</span><span class="o">.</span><span class="n">id</span> <span class="ss">:id</span> <span class="k">do</span>
<span class="lineno"> 9</span>   <span class="n">text</span> <span class="s1">&#39;content&#39;</span>
<span class="lineno">10</span> <span class="k">end</span>                                 <span class="c1"># &lt;div id=&quot;id&quot;&gt;content&lt;/div&gt;---</span>
</pre></div>

<h2>Boolean attributes</h2>
<p>Attributes like <code>checked</code> and <code>disabled</code> test value for true, if false they render nothing</p>
<div class="highlight"><pre><span class="lineno">1</span> <span class="n">input</span><span class="o">.</span><span class="n">disabled</span> <span class="n">am_i_disabled?</span>
<span class="lineno">2</span> <span class="c1"># =&gt; &lt;input disabled=&quot;disabled&quot; /&gt;</span>
<span class="lineno">3</span> <span class="c1"># or &lt;input /&gt;</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="presentation.md">presentation.md</a>
            </aside>
            
            <aside class="page_number">
              7/32
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: presentation.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>Id, class and mimic</h1></header>
            
            
            <section><div class="highlight"><pre><span class="lineno">1</span> <span class="n">div</span><span class="o">.</span><span class="n">menu!</span><span class="o">.</span><span class="n">left</span><span class="o">.</span><span class="n">hidden</span> <span class="c1"># =&gt; &lt;div id=&quot;menu&quot; class=&quot;left hidden&quot;&gt;&lt;/div&gt;</span>
</pre></div>

<p>Content can be passed in the usual way:</p>
<div class="highlight"><pre><span class="lineno">1</span> <span class="n">div</span><span class="o">.</span><span class="n">menu!</span> <span class="s1">&#39;content&#39;</span>       <span class="c1"># =&gt; &lt;div id=&quot;menu&quot;&gt;content&lt;/div&gt;</span>
<span class="lineno">2</span> <span class="n">div</span><span class="o">.</span><span class="n">menu!</span> <span class="p">{</span> <span class="nb">p</span> <span class="s1">&#39;content&#39;</span> <span class="p">}</span> <span class="c1"># =&gt; &lt;div id=&quot;menu&quot;&gt;&lt;p&gt;content&lt;/p&gt;&lt;/div&gt;</span>
</pre></div>

<p><code>#class</code> accepts an array, values are joined with spaces and <code>false</code>, <code>nil</code> values are ignored</p>
<div class="highlight"><pre><span class="lineno">1</span> <span class="n">div</span><span class="o">.</span><span class="n">class</span><span class="p">(</span><span class="s1">&#39;menu&#39;</span><span class="p">,</span> <span class="s1">&#39;big&#39;</span><span class="p">,</span> <span class="n">hide?</span> <span class="o">&amp;&amp;</span> <span class="s1">&#39;hidden&#39;</span><span class="p">)</span>
<span class="lineno">2</span> <span class="c1"># =&gt; &lt;div class=&quot;menu big hidden&quot;&gt;&lt;/div&gt;</span>
<span class="lineno">3</span> <span class="c1"># or &lt;div class=&quot;menu big&quot;&gt;&lt;/div&gt;</span>
</pre></div>

<p><code>#id</code> accepts also an array, values are joined with '_' and <code>false</code>, <code>nil</code> values are ignored</p>
<div class="highlight"><pre><span class="lineno">1</span> <span class="n">div</span><span class="o">.</span><span class="n">id</span><span class="p">(</span><span class="s1">&#39;menu&#39;</span><span class="p">,</span> <span class="s1">&#39;big&#39;</span><span class="p">,</span> <span class="n">a_failing_test</span> <span class="o">&amp;&amp;</span> <span class="s1">&#39;useless&#39;</span><span class="p">)</span> <span class="c1"># =&gt; &lt;div id=&quot;menu_big&quot;&gt;&lt;/div&gt;</span>
</pre></div>

<p>Object (model) can be used to set class and id</p>
<div class="highlight"><pre><span class="lineno">1</span> <span class="n">user</span> <span class="o">=</span> <span class="no">User</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="ss">:id</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">)</span>
<span class="lineno">2</span> <span class="n">div</span><span class="p">(</span><span class="ss">:class</span> <span class="o">=&gt;</span> <span class="s1">&#39;model&#39;</span><span class="p">)</span><span class="o">[</span><span class="n">user</span><span class="o">].</span><span class="n">with</span> <span class="p">{</span> <span class="n">text</span> <span class="s1">&#39;data&#39;</span> <span class="p">}</span>
<span class="lineno">3</span> <span class="c1"># =&gt; &lt;div id=&quot;user_1&quot; class=&quot;model user&quot;&gt;data&lt;/div&gt;</span>
</pre></div>

<p><code>#mimic</code> which is aliased as <code>#[]</code> looks for <code>.hammer_builder_ref</code> or it uses the class name to render the class part.
As id is used already determined class and <code>#hammer_builder_ref</code>, <code>#id</code>, <code>#object_id</code> which one is found first.</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="presentation.md">presentation.md</a>
            </aside>
            
            <aside class="page_number">
              8/32
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: presentation.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>Data attributes, Join</h1></header>
            
            
            <section><div class="highlight"><pre><span class="lineno">1</span> <span class="n">div</span><span class="o">.</span><span class="n">data_secret</span><span class="p">(</span><span class="s2">&quot;I won&#39;t tell.&quot;</span><span class="p">)</span> <span class="c1"># =&gt; &lt;div data-secret=&quot;I won&#39;t tell.&quot;&gt;&lt;/div&gt;</span>
<span class="lineno">2</span> <span class="n">data</span> <span class="ss">:secret</span> <span class="o">=&gt;</span> <span class="s2">&quot;I won&#39;t tell.&quot;</span>  <span class="c1"># =&gt; &lt;div data-secret=&quot;I won&#39;t tell.&quot;&gt;&lt;/div&gt;</span>
</pre></div>

<h2>Join</h2>
<p><code>#join</code> enables easy rendering of collections</p>
<div class="highlight"><pre><span class="lineno">1</span> <span class="n">join</span><span class="p">(</span><span class="o">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="o">.</span><span class="mi">2</span><span class="o">]</span><span class="p">,</span> <span class="o">-&gt;</span><span class="p">{</span> <span class="n">text</span> <span class="s1">&#39;, &#39;</span> <span class="p">})</span> <span class="p">{</span><span class="o">|</span><span class="n">n</span><span class="o">|</span> <span class="n">b</span> <span class="s2">&quot;</span><span class="si">#{</span><span class="n">n</span><span class="si">}</span><span class="s2">cm&quot;</span> <span class="p">}</span>
<span class="lineno">2</span>     <span class="c1"># =&gt; &quot;&lt;b&gt;1cm&lt;/b&gt;, &lt;b&gt;1.2cm&lt;/b&gt;&quot;</span>
<span class="lineno">3</span> <span class="n">join</span><span class="p">(</span><span class="o">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="o">.</span><span class="mi">2</span><span class="o">]</span><span class="p">,</span> <span class="s1">&#39;, &#39;</span><span class="p">)</span> <span class="p">{</span><span class="o">|</span><span class="n">n</span><span class="o">|</span> <span class="n">b</span> <span class="s2">&quot;</span><span class="si">#{</span><span class="n">n</span><span class="si">}</span><span class="s2">cm&quot;</span> <span class="p">}</span>
<span class="lineno">4</span>     <span class="c1"># =&gt; &quot;&lt;b&gt;1cm&lt;/b&gt;, &lt;b&gt;1.2cm&lt;/b&gt;&quot;</span>
<span class="lineno">5</span> <span class="n">join</span><span class="p">(</span><span class="o">[</span><span class="mi">1</span><span class="p">,</span> <span class="o">-&gt;</span><span class="p">{</span> <span class="n">text</span> <span class="s1">&#39;missing&#39;</span> <span class="p">}</span><span class="o">]</span><span class="p">,</span> <span class="s1">&#39;, &#39;</span><span class="p">)</span> <span class="p">{</span><span class="o">|</span><span class="n">n</span><span class="o">|</span> <span class="n">b</span> <span class="s2">&quot;</span><span class="si">#{</span><span class="n">n</span><span class="si">}</span><span class="s2">cm&quot;</span> <span class="p">}</span>
<span class="lineno">6</span>     <span class="c1"># =&gt; &quot;&lt;b&gt;1cm&lt;/b&gt;, missing&quot;</span>
</pre></div>

<p>A block in the collection is rendered directly without iterator. This can be useful when menu with some delimiters
is rendered based on collection of some objects and you need to add one or more untypical menu items.</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="presentation.md">presentation.md</a>
            </aside>
            
            <aside class="page_number">
              9/32
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: presentation.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>Tag's reprezentation</h1></header>
            
            
            <section><p>Each tag has its own class.</p>
<div class="highlight"><pre><span class="lineno">1</span> <span class="n">div</span><span class="o">.</span><span class="n">rclass</span> <span class="c1"># =&gt; #&lt;Class:0x00000001d449b8(HammerBuilder::Formatted.dc[:Div])&gt;</span>
<span class="lineno">2</span> <span class="n">li</span><span class="o">.</span><span class="n">rclass</span>  <span class="c1"># =&gt; #&lt;Class:0x00000001d449b8(HammerBuilder::Formatted.dc[:Li])&gt;</span>
</pre></div>

<p><code>#rclass</code> is original ruby method <code>#class</code></p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="presentation.md">presentation.md</a>
            </aside>
            
            <aside class="page_number">
              10/32
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: presentation.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>Getting a builder</h1></header>
            
            
            <section><p>Creating new builder is relatively expensive. There is a pool of builders implemented.</p>
<div class="highlight"><pre><span class="lineno"> 1</span> <span class="k">if</span> <span class="n">am_i_smart?</span>
<span class="lineno"> 2</span>   <span class="n">pool</span> <span class="o">=</span> <span class="no">HammerBuilder</span><span class="o">::</span><span class="no">Pool</span><span class="o">.</span><span class="n">new</span> <span class="no">HammerBuilder</span><span class="o">::</span><span class="no">Formatted</span> <span class="c1"># store pool somewhere globalish for reuse</span>
<span class="lineno"> 3</span>   <span class="n">builder</span> <span class="o">=</span> <span class="n">pool</span><span class="o">.</span><span class="n">get</span> <span class="c1"># =&gt; new builder from pool if there is one, or a newlly created one</span>
<span class="lineno"> 4</span>   <span class="c1"># ... do yours stuff</span>
<span class="lineno"> 5</span>   <span class="n">builder</span><span class="o">.</span><span class="n">release</span> <span class="c1"># resets builder and returns it to the pool</span>
<span class="lineno"> 6</span> <span class="k">else</span>
<span class="lineno"> 7</span>   <span class="n">b</span> <span class="o">=</span> <span class="no">HammerBuilder</span><span class="o">::</span><span class="no">Formatted</span><span class="o">.</span><span class="n">new</span>
<span class="lineno"> 8</span>   <span class="c1"># ... do yours stuff</span>
<span class="lineno"> 9</span>   <span class="c1"># later on builder gets garbage collected</span>
<span class="lineno">10</span> <span class="k">end</span>
</pre></div>

<p>Be careful not to use builder after you have released it.</p>
<div class="highlight"><pre><span class="lineno">1</span> <span class="k">if</span> <span class="n">am_i_freaking_smart?</span>
<span class="lineno">2</span>   <span class="n">pool</span> <span class="o">=</span> <span class="no">HammerBuilder</span><span class="o">::</span><span class="no">Pool</span><span class="o">.</span><span class="n">new</span> <span class="no">HammerBuilder</span><span class="o">::</span><span class="no">Formatted</span>
<span class="lineno">3</span>   <span class="n">xhtml</span> <span class="o">=</span> <span class="n">pool</span><span class="o">.</span><span class="n">get</span><span class="o">.</span><span class="n">go_in</span><span class="p">(</span><span class="n">your_data</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span><span class="n">data</span><span class="o">|</span>
<span class="lineno">4</span>     <span class="c1"># render your data ...</span>
<span class="lineno">5</span>   <span class="k">end</span><span class="o">.</span><span class="n">to_html!</span> <span class="c1"># returns xhtml and releases the builder</span>
<span class="lineno">6</span> <span class="k">end</span>
</pre></div>

<p>This way builder doesn't get stored anywhere.</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="presentation.md">presentation.md</a>
            </aside>
            
            <aside class="page_number">
              11/32
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: presentation.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>How to use</h1></header>
            
            
            <section><p>The idea is that any object intended to rendering will have methods which renders the object into builder.
There is a <code>HammerBuilder::Helper</code> and method <code>#render</code> (also aliased as <code>#r</code>) for that purpose.</p>
<div class="highlight"><pre><span class="lineno"> 1</span> <span class="k">class</span> <span class="nc">User</span> <span class="o">&lt;</span> <span class="no">Struct</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="ss">:name</span><span class="p">,</span> <span class="ss">:login</span><span class="p">,</span> <span class="ss">:email</span><span class="p">)</span>
<span class="lineno"> 2</span>   <span class="kp">extend</span> <span class="no">HammerBuilder</span><span class="o">::</span><span class="no">Helper</span>
<span class="lineno"> 3</span> 
<span class="lineno"> 4</span>   <span class="n">builder</span> <span class="ss">:detail</span> <span class="k">do</span> <span class="o">|</span><span class="n">user</span><span class="o">|</span>
<span class="lineno"> 5</span>     <span class="n">ul</span> <span class="k">do</span>
<span class="lineno"> 6</span>       <span class="n">r</span> <span class="n">user</span><span class="p">,</span> <span class="ss">:attribute</span><span class="p">,</span> <span class="ss">:name</span>
<span class="lineno"> 7</span>       <span class="n">r</span> <span class="n">user</span><span class="p">,</span> <span class="ss">:attribute</span><span class="p">,</span> <span class="ss">:login</span>
<span class="lineno"> 8</span>       <span class="n">r</span> <span class="n">user</span><span class="p">,</span> <span class="ss">:attribute</span><span class="p">,</span> <span class="ss">:email</span>
<span class="lineno"> 9</span>     <span class="k">end</span>
<span class="lineno">10</span>   <span class="k">end</span>
<span class="lineno">11</span> 
<span class="lineno">12</span>   <span class="k">def</span> <span class="nf">attribute</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">attribute</span><span class="p">)</span>
<span class="lineno">13</span>     <span class="n">b</span><span class="o">.</span><span class="n">li</span> <span class="k">do</span>
<span class="lineno">14</span>       <span class="n">b</span><span class="o">.</span><span class="n">strong</span> <span class="s2">&quot;</span><span class="si">#{</span><span class="n">attribute</span><span class="si">}</span><span class="s2">: &quot;</span>
<span class="lineno">15</span>       <span class="n">b</span><span class="o">.</span><span class="n">text</span> <span class="nb">self</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">attribute</span><span class="p">)</span>
<span class="lineno">16</span>     <span class="k">end</span>
<span class="lineno">17</span>   <span class="k">end</span>
<span class="lineno">18</span> <span class="k">end</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="presentation.md">presentation.md</a>
            </aside>
            
            <aside class="page_number">
              12/32
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: presentation.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>How to use 2</h1></header>
            
            
            <section><p><code>.builder</code> is just shortcut to define method <code>User#detail</code> like this:</p>
<div class="highlight"><pre><span class="lineno">1</span> <span class="k">def</span> <span class="nf">detail</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="lineno">2</span>   <span class="n">b</span><span class="o">.</span><span class="n">go_in</span><span class="p">(</span><span class="nb">self</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span><span class="n">user</span><span class="o">|</span> <span class="c1"># this block is the same as the one passed</span>
<span class="lineno">3</span>     <span class="n">ul</span> <span class="k">do</span>                 <span class="c1"># above to .builder</span>
<span class="lineno">4</span>       <span class="n">r</span> <span class="n">user</span><span class="p">,</span> <span class="ss">:attribute</span><span class="p">,</span> <span class="ss">:name</span>
<span class="lineno">5</span>       <span class="n">r</span> <span class="n">user</span><span class="p">,</span> <span class="ss">:attribute</span><span class="p">,</span> <span class="ss">:login</span>
<span class="lineno">6</span>       <span class="n">r</span> <span class="n">user</span><span class="p">,</span> <span class="ss">:attribute</span><span class="p">,</span> <span class="ss">:email</span>
<span class="lineno">7</span>     <span class="k">end</span>
<span class="lineno">8</span>   <span class="k">end</span>
<span class="lineno">9</span> <span class="k">end</span>
</pre></div>

<p>is same as</p>
<div class="highlight"><pre><span class="lineno">1</span> <span class="n">builder</span> <span class="ss">:detail</span> <span class="k">do</span> <span class="o">|</span><span class="n">user</span><span class="o">|</span>
<span class="lineno">2</span>   <span class="n">ul</span> <span class="k">do</span>
<span class="lineno">3</span>     <span class="n">r</span> <span class="n">user</span><span class="p">,</span> <span class="ss">:attribute</span><span class="p">,</span> <span class="ss">:name</span>
<span class="lineno">4</span>     <span class="n">r</span> <span class="n">user</span><span class="p">,</span> <span class="ss">:attribute</span><span class="p">,</span> <span class="ss">:login</span>
<span class="lineno">5</span>     <span class="n">r</span> <span class="n">user</span><span class="p">,</span> <span class="ss">:attribute</span><span class="p">,</span> <span class="ss">:email</span>
<span class="lineno">6</span>   <span class="k">end</span>
<span class="lineno">7</span> <span class="k">end</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="presentation.md">presentation.md</a>
            </aside>
            
            <aside class="page_number">
              13/32
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: presentation.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>How to use 3</h1></header>
            
            
            <section><div class="highlight"><pre><span class="lineno">1</span> <span class="n">user</span> <span class="o">=</span> <span class="no">User</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s2">&quot;Peter&quot;</span><span class="p">,</span> <span class="s2">&quot;peter&quot;</span><span class="p">,</span> <span class="s2">&quot;peter@example.com&quot;</span><span class="p">)</span>
<span class="lineno">2</span> <span class="n">pool</span><span class="o">.</span><span class="n">get</span><span class="o">.</span><span class="n">dive</span> <span class="k">do</span>
<span class="lineno">3</span>   <span class="n">r</span> <span class="n">user</span><span class="p">,</span> <span class="ss">:detail</span>
<span class="lineno">4</span> <span class="k">end</span><span class="o">.</span><span class="n">to_html!</span>
</pre></div>

<p>returns:</p>
<div class="highlight"><pre><span class="lineno"> 1</span> <span class="nt">&lt;ul&gt;</span>
<span class="lineno"> 2</span>   <span class="nt">&lt;li&gt;</span>
<span class="lineno"> 3</span>     <span class="nt">&lt;strong&gt;</span>name: <span class="nt">&lt;/strong&gt;</span>Peter
<span class="lineno"> 4</span>   <span class="nt">&lt;/li&gt;</span>
<span class="lineno"> 5</span>   <span class="nt">&lt;li&gt;</span>
<span class="lineno"> 6</span>     <span class="nt">&lt;strong&gt;</span>login: <span class="nt">&lt;/strong&gt;</span>peter
<span class="lineno"> 7</span>   <span class="nt">&lt;/li&gt;</span>
<span class="lineno"> 8</span>   <span class="nt">&lt;li&gt;</span>
<span class="lineno"> 9</span>     <span class="nt">&lt;strong&gt;</span>email: <span class="nt">&lt;/strong&gt;</span>peter@example.com
<span class="lineno">10</span>   <span class="nt">&lt;/li&gt;</span>
<span class="lineno">11</span> <span class="nt">&lt;/ul&gt;</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="presentation.md">presentation.md</a>
            </aside>
            
            <aside class="page_number">
              14/32
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: presentation.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>Contexts</h1></header>
            
            
            <section><p>Html can be rendered outside of builder's context</p>
<div class="highlight"><pre><span class="lineno">1</span> <span class="k">class</span> <span class="nc">User</span>
<span class="lineno">2</span>   <span class="n">attr_reder</span> <span class="ss">:name</span><span class="p">,</span> <span class="ss">:age</span>
<span class="lineno">3</span>   <span class="k">def</span> <span class="nf">detail</span><span class="p">(</span><span class="n">b</span><span class="p">)</span> <span class="c1"># builder</span>
<span class="lineno">4</span>     <span class="n">b</span><span class="o">.</span><span class="n">ul</span> <span class="p">{</span> <span class="n">b</span><span class="o">.</span><span class="n">li</span> <span class="nb">name</span><span class="p">;</span> <span class="n">b</span><span class="o">.</span><span class="n">li</span> <span class="nb">name</span> <span class="p">}</span>
<span class="lineno">5</span>   <span class="k">end</span>
<span class="lineno">6</span> <span class="k">end</span>
</pre></div>

<p>or <code>#go_in</code> (also aliased as <code>#dive</code>) can be used to get into builder's context</p>
<div class="highlight"><pre><span class="lineno">1</span> <span class="k">class</span> <span class="nc">User</span>
<span class="lineno">2</span>   <span class="kp">extend</span> <span class="no">HammerBuilder</span><span class="o">::</span><span class="no">Helper</span>
<span class="lineno">3</span>   <span class="n">attr_reder</span> <span class="ss">:name</span><span class="p">,</span> <span class="ss">:age</span>
<span class="lineno">4</span>   <span class="n">builder</span> <span class="ss">:detail</span> <span class="k">do</span> <span class="o">|</span><span class="n">user</span><span class="o">|</span>
<span class="lineno">5</span>     <span class="n">ul</span> <span class="p">{</span> <span class="n">li</span> <span class="n">user</span><span class="o">.</span><span class="n">name</span><span class="p">;</span> <span class="n">li</span> <span class="n">user</span><span class="o">.</span><span class="n">age</span> <span class="p">}</span>
<span class="lineno">6</span>   <span class="k">end</span>
<span class="lineno">7</span> <span class="k">end</span>
<span class="lineno">8</span> <span class="c1"># =&gt; &lt;ul&gt;&lt;li&gt;john Doe&lt;/li&gt;&lt;li&gt;25&lt;/li&gt;&lt;/ul&gt;</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="presentation.md">presentation.md</a>
            </aside>
            
            <aside class="page_number">
              15/32
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: presentation.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>Helpers</h1></header>
            
            
            <section><p>If they are needed they can be mixed directly into Builder's instance</p>
<div class="highlight"><pre><span class="lineno">1</span> <span class="no">HammerBuilder</span><span class="o">::</span><span class="no">Formatted</span><span class="o">.</span><span class="n">new</span><span class="o">.</span><span class="n">go_in</span> <span class="k">do</span>
<span class="lineno">2</span>   <span class="kp">extend</span> <span class="no">ActionView</span><span class="o">::</span><span class="no">Helpers</span><span class="o">::</span><span class="no">NumberHelper</span>
<span class="lineno">3</span>   <span class="n">div</span> <span class="n">number_with_precision</span><span class="p">(</span><span class="no">Math</span><span class="o">::</span><span class="no">PI</span><span class="p">,</span> <span class="ss">:precision</span> <span class="o">=&gt;</span> <span class="mi">4</span><span class="p">)</span>
<span class="lineno">4</span> <span class="k">end</span><span class="o">.</span><span class="n">to_html</span> <span class="c1"># =&gt; &lt;div&gt;3.1416&lt;/div&gt;</span>
</pre></div>

<p><em>Be careful when you are using this with <code>Pool</code>. Some instances may have helpers and some don't.</em></p>
<p>Or new builder descendant can be made.</p>
<div class="highlight"><pre><span class="lineno">1</span> <span class="k">class</span> <span class="nc">MyBuilder</span> <span class="o">&lt;</span> <span class="no">Hammer</span><span class="o">::</span><span class="no">FormattedBuilder</span>
<span class="lineno">2</span>   <span class="kp">include</span> <span class="no">ActionView</span><span class="o">::</span><span class="no">Helpers</span><span class="o">::</span><span class="no">NumberHelper</span>
<span class="lineno">3</span> <span class="k">end</span>
<span class="lineno">4</span> 
<span class="lineno">5</span> <span class="no">MyBuilder</span><span class="o">.</span><span class="n">new</span><span class="o">.</span><span class="n">go_in</span> <span class="k">do</span>
<span class="lineno">6</span>   <span class="n">div</span> <span class="n">number_with_precision</span><span class="p">(</span><span class="no">Math</span><span class="o">::</span><span class="no">PI</span><span class="p">,</span> <span class="ss">:precision</span> <span class="o">=&gt;</span> <span class="mi">4</span><span class="p">)</span>
<span class="lineno">7</span> <span class="k">end</span><span class="o">.</span><span class="n">to_html</span> <span class="c1"># =&gt; &lt;div&gt;3.1416&lt;/div&gt;</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="presentation.md">presentation.md</a>
            </aside>
            
            <aside class="page_number">
              16/32
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: presentation.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>Implementation details - Tag's shared instances</h1></header>
            
            
            <section><p>There are no multiple instances for each tag.
Every tag of the same type share a same instance (unique within the instance of a builder).</p>
<div class="highlight"><pre><span class="lineno">1</span> <span class="nb">puts</span><span class="p">(</span><span class="n">pool</span><span class="o">.</span><span class="n">get</span><span class="o">.</span><span class="n">go_in</span> <span class="k">do</span>
<span class="lineno">2</span>   <span class="nb">puts</span> <span class="n">div</span><span class="o">.</span><span class="n">object_id</span>
<span class="lineno">3</span>   <span class="nb">puts</span> <span class="n">div</span><span class="o">.</span><span class="n">object_id</span>
<span class="lineno">4</span> <span class="k">end</span><span class="o">.</span><span class="n">to_html!</span><span class="p">)</span>
<span class="lineno">5</span> <span class="c1"># =&gt;</span>
<span class="lineno">6</span> <span class="c1"># 10069200</span>
<span class="lineno">7</span> <span class="c1"># 10069200</span>
<span class="lineno">8</span> <span class="c1"># &lt;div&gt;&lt;/div&gt;&lt;div&gt;&lt;/div&gt;</span>
</pre></div>

<p><code>HammerBuilder</code> creates what he can prior to rendering and uses heavily meta-programming, because of that instantiating
the very first instance of builder triggers some magic staff taking about a one second. Creating new builders of the
same class is than much faster and getting builder from a pool is instant.</p>
<p>This won't work:</p>
<div class="highlight"><pre><span class="lineno">1</span> <span class="nb">puts</span><span class="p">(</span><span class="n">pool</span><span class="o">.</span><span class="n">get</span><span class="o">.</span><span class="n">go_in</span> <span class="k">do</span>
<span class="lineno">2</span>   <span class="n">a</span> <span class="o">=</span> <span class="n">div</span> <span class="s1">&#39;a&#39;</span>
<span class="lineno">3</span>   <span class="n">div</span> <span class="s1">&#39;b&#39;</span>
<span class="lineno">4</span>   <span class="n">a</span><span class="o">.</span><span class="n">class</span> <span class="s1">&#39;class&#39;</span>
<span class="lineno">5</span> <span class="k">end</span><span class="o">.</span><span class="n">to_html!</span><span class="p">)</span>
<span class="lineno">6</span> <span class="c1"># =&gt; &lt;div&gt;a&lt;/div&gt;&lt;div class=&quot;class&quot;&gt;b&lt;/div&gt;</span>
</pre></div>

<p>because when <code>#class</code> is called the second div is being builded.</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="presentation.md">presentation.md</a>
            </aside>
            
            <aside class="page_number">
              17/32
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: presentation.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>Implementation details - DynamicClasses</h1></header>
            
            
            <section><div class="highlight"><pre><span class="lineno"> 1</span> <span class="k">class</span> <span class="nc">Parent</span>
<span class="lineno"> 2</span>   <span class="k">class</span> <span class="nc">LeftEye</span>
<span class="lineno"> 3</span>     <span class="k">def</span> <span class="nf">to_s</span>
<span class="lineno"> 4</span>       <span class="s1">&#39;left eye&#39;</span>
<span class="lineno"> 5</span>     <span class="k">end</span>
<span class="lineno"> 6</span>   <span class="k">end</span>
<span class="lineno"> 7</span>   <span class="k">class</span> <span class="nc">RightEye</span> <span class="o">&lt;</span> <span class="no">LeftEye</span>
<span class="lineno"> 8</span>     <span class="k">def</span> <span class="nf">to_s</span>
<span class="lineno"> 9</span>       <span class="s1">&#39;next to &#39;</span> <span class="o">+</span> <span class="k">super</span>
<span class="lineno">10</span>     <span class="k">end</span>
<span class="lineno">11</span>   <span class="k">end</span>
<span class="lineno">12</span> <span class="k">end</span>
<span class="lineno">13</span> <span class="k">class</span> <span class="nc">AChild</span> <span class="o">&lt;</span> <span class="no">Parent</span>
<span class="lineno">14</span> <span class="k">end</span>
<span class="lineno">15</span> <span class="k">class</span> <span class="nc">AMutant</span>
<span class="lineno">16</span>   <span class="k">class</span> <span class="nc">LeftEye</span> <span class="o">&lt;</span> <span class="n">superclass</span><span class="o">::</span><span class="no">LeftEye</span>
<span class="lineno">17</span>     <span class="k">def</span> <span class="nf">to_s</span>
<span class="lineno">18</span>       <span class="s1">&#39;laser &#39;</span> <span class="o">+</span> <span class="k">super</span>
<span class="lineno">19</span>     <span class="k">end</span>
<span class="lineno">20</span>   <span class="k">end</span>
<span class="lineno">21</span> <span class="k">end</span>
</pre></div>

<p>How to define <code>AMutant::RihtEye</code> to return <code>"next to laser left eye"</code> ?</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="presentation.md">presentation.md</a>
            </aside>
            
            <aside class="page_number">
              18/32
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: presentation.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>Implementation details - DynamicClasses 2</h1></header>
            
            
            <section><div class="highlight"><pre><span class="lineno"> 1</span> <span class="k">class</span> <span class="nc">Parent</span>
<span class="lineno"> 2</span>   <span class="kp">extend</span> <span class="no">DynamicClasses</span>
<span class="lineno"> 3</span>   <span class="n">dynamic_classes</span> <span class="k">do</span>
<span class="lineno"> 4</span>     <span class="n">def_class</span> <span class="ss">:LeftEye</span> <span class="k">do</span>
<span class="lineno"> 5</span>       <span class="k">def</span> <span class="nf">to_s</span><span class="p">;</span> <span class="s1">&#39;left eye&#39;</span><span class="p">;</span> <span class="k">end</span>
<span class="lineno"> 6</span>     <span class="k">end</span>
<span class="lineno"> 7</span>     <span class="n">def_class</span> <span class="ss">:RightEye</span><span class="p">,</span> <span class="ss">:LeftEye</span> <span class="k">do</span>
<span class="lineno"> 8</span>       <span class="nb">class_eval</span> <span class="o">&lt;&lt;-</span><span class="no">RUBYCODE</span><span class="p">,</span> <span class="bp">__FILE__</span><span class="p">,</span> <span class="bp">__LINE__</span><span class="o">+</span><span class="mi">1</span>
<span class="lineno"> 9</span> <span class="sh">        def to_s; &#39;next to &#39; + super; end</span>
<span class="lineno">10</span> <span class="no">      RUBYCODE</span>
<span class="lineno">11</span>     <span class="k">end</span>
<span class="lineno">12</span>   <span class="k">end</span>
<span class="lineno">13</span> <span class="k">end</span>
<span class="lineno">14</span> 
<span class="lineno">15</span> <span class="k">class</span> <span class="nc">AChild</span> <span class="o">&lt;</span> <span class="no">Parent</span>
<span class="lineno">16</span> <span class="k">end</span>
<span class="lineno">17</span> 
<span class="lineno">18</span> <span class="k">class</span> <span class="nc">AMutant</span> <span class="o">&lt;</span> <span class="no">Parent</span>
<span class="lineno">19</span>   <span class="n">dynamic_classes</span> <span class="k">do</span>
<span class="lineno">20</span>     <span class="n">extend_class</span> <span class="ss">:LeftEye</span> <span class="k">do</span>
<span class="lineno">21</span>       <span class="k">def</span> <span class="nf">to_s</span><span class="p">;</span> <span class="s1">&#39;laser &#39;</span> <span class="o">+</span> <span class="k">super</span><span class="p">;</span> <span class="k">end</span>
<span class="lineno">22</span>     <span class="k">end</span>
<span class="lineno">23</span>   <span class="k">end</span>
<span class="lineno">24</span> <span class="k">end</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="presentation.md">presentation.md</a>
            </aside>
            
            <aside class="page_number">
              19/32
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: presentation.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>Implementation details - DynamicClasses 3</h1></header>
            
            
            <section><p>Each class is a diferent object.</p>
<div class="highlight"><pre><span class="lineno">1</span> <span class="no">Parent</span><span class="o">.</span><span class="n">dynamic_classes</span><span class="o">[</span><span class="ss">:LeftEye</span><span class="o">]</span> <span class="c1"># =&gt; #&lt;Class:0x00000001d449b8(A.dc[:LeftEye])&gt;</span>
<span class="lineno">2</span> <span class="no">AChild</span><span class="o">.</span><span class="n">dynamic_classes</span><span class="o">[</span><span class="ss">:LeftEye</span><span class="o">]</span> <span class="c1"># =&gt; #&lt;Class:0x00000001d42398(A.dc[:LeftEye])&gt;</span>
</pre></div>

<p><code>AMutant.dc[:RightEye]</code> automaticaly inherits from extended <code>AMutant.dc[:LeftEye]</code></p>
<div class="highlight"><pre><span class="lineno">1</span> <span class="no">Parent</span><span class="o">.</span><span class="n">dc</span><span class="o">[</span><span class="ss">:LeftEye</span><span class="o">].</span><span class="n">new</span><span class="o">.</span><span class="n">to_s</span>   <span class="c1"># =&gt; &#39;left eye&#39;</span>
<span class="lineno">2</span> <span class="no">Parent</span><span class="o">.</span><span class="n">dc</span><span class="o">[</span><span class="ss">:RightEye</span><span class="o">].</span><span class="n">new</span><span class="o">.</span><span class="n">to_s</span>  <span class="c1"># =&gt; &#39;next to left eye&#39;</span>
<span class="lineno">3</span> 
<span class="lineno">4</span> <span class="no">AChild</span><span class="o">.</span><span class="n">dc</span><span class="o">[</span><span class="ss">:LeftEye</span><span class="o">].</span><span class="n">new</span><span class="o">.</span><span class="n">to_s</span>   <span class="c1"># =&gt; &#39;left eye&#39;</span>
<span class="lineno">5</span> <span class="no">AChild</span><span class="o">.</span><span class="n">dc</span><span class="o">[</span><span class="ss">:RightEye</span><span class="o">].</span><span class="n">new</span><span class="o">.</span><span class="n">to_s</span>  <span class="c1"># =&gt; &#39;next to left eye&#39;</span>
<span class="lineno">6</span> 
<span class="lineno">7</span> <span class="no">AMutant</span><span class="o">.</span><span class="n">dc</span><span class="o">[</span><span class="ss">:LeftEye</span><span class="o">].</span><span class="n">new</span><span class="o">.</span><span class="n">to_s</span>  <span class="c1"># =&gt; &#39;laser left eye&#39;</span>
<span class="lineno">8</span> <span class="no">AMutant</span><span class="o">.</span><span class="n">dc</span><span class="o">[</span><span class="ss">:RightEye</span><span class="o">].</span><span class="n">new</span><span class="o">.</span><span class="n">to_s</span> <span class="c1"># =&gt; &#39;next to laser left eye&#39;</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="presentation.md">presentation.md</a>
            </aside>
            
            <aside class="page_number">
              20/32
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: presentation.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>Extensibility</h1></header>
            
            
            <section><div class="highlight"><pre><span class="lineno"> 1</span> <span class="k">class</span> <span class="nc">MyBuilder</span> <span class="o">&lt;</span> <span class="no">HammerBuilder</span><span class="o">::</span><span class="no">Formatted</span>
<span class="lineno"> 2</span>   <span class="n">dynamic_classes</span> <span class="k">do</span>
<span class="lineno"> 3</span>     <span class="c1"># define new method to all tags</span>
<span class="lineno"> 4</span>     <span class="n">extend_class</span> <span class="ss">:AbstractTag</span> <span class="k">do</span>
<span class="lineno"> 5</span>       <span class="k">def</span> <span class="nf">hide!</span>
<span class="lineno"> 6</span>         <span class="nb">self</span><span class="o">.</span><span class="n">class</span> <span class="s1">&#39;hidden&#39;</span>
<span class="lineno"> 7</span>       <span class="k">end</span>
<span class="lineno"> 8</span>     <span class="k">end</span>
<span class="lineno"> 9</span> 
<span class="lineno">10</span>     <span class="c1"># add pseudo tag</span>
<span class="lineno">11</span>     <span class="n">def_class</span> <span class="ss">:Component</span><span class="p">,</span> <span class="ss">:Div</span> <span class="k">do</span>
<span class="lineno">12</span>       <span class="nb">class_eval</span> <span class="o">&lt;&lt;-</span><span class="no">RUBYCODE</span><span class="p">,</span> <span class="bp">__FILE__</span><span class="p">,</span> <span class="bp">__LINE__</span> <span class="o">+</span> <span class="mi">1</span>
<span class="lineno">13</span> <span class="sh">        def open(id, attributes = nil, &amp;block)</span>
<span class="lineno">14</span> <span class="sh">          super(attributes, &amp;nil).id(id).class(&#39;component&#39;)</span>
<span class="lineno">15</span> <span class="sh">          block ? with(&amp;block) : self</span>
<span class="lineno">16</span> <span class="sh">        end</span>
<span class="lineno">17</span> <span class="no">      RUBYCODE</span>
<span class="lineno">18</span>     <span class="k">end</span>
<span class="lineno">19</span>   <span class="k">end</span>
<span class="lineno">20</span> 
<span class="lineno">21</span>   <span class="n">define_tag</span> <span class="ss">:component</span>
<span class="lineno">22</span> 
<span class="lineno">23</span>   <span class="c1"># if the class is not needed same can be done this way</span>
<span class="lineno">24</span>   <span class="k">def</span> <span class="nf">simple_component</span><span class="p">(</span><span class="nb">id</span><span class="p">,</span> <span class="n">attributes</span> <span class="o">=</span> <span class="p">{},</span> <span class="o">&amp;</span><span class="n">block</span><span class="p">)</span>
<span class="lineno">25</span>     <span class="n">div</span><span class="o">.</span><span class="n">id</span><span class="p">(</span><span class="nb">id</span><span class="p">)</span><span class="o">.</span><span class="n">attributes</span> <span class="n">attributes</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">block</span>
<span class="lineno">26</span>   <span class="k">end</span>
<span class="lineno">27</span> <span class="k">end</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="presentation.md">presentation.md</a>
            </aside>
            
            <aside class="page_number">
              21/32
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: presentation.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>Extensibility 2</h1></header>
            
            
            <section><div class="highlight"><pre><span class="lineno">1</span> <span class="no">MyBuilder</span><span class="o">.</span><span class="n">new</span><span class="o">.</span><span class="n">go_in</span> <span class="k">do</span>
<span class="lineno">2</span>   <span class="n">div</span><span class="o">.</span><span class="n">content!</span><span class="o">.</span><span class="n">with</span> <span class="k">do</span>
<span class="lineno">3</span>     <span class="n">span</span><span class="o">.</span><span class="n">secret!</span><span class="o">.</span><span class="n">class</span><span class="p">(</span><span class="s1">&#39;left&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">hide!</span>
<span class="lineno">4</span>     <span class="n">component</span><span class="p">(</span><span class="s1">&#39;component-1&#39;</span><span class="p">)</span> <span class="k">do</span>
<span class="lineno">5</span>       <span class="n">strong</span> <span class="s1">&#39;something&#39;</span>
<span class="lineno">6</span>     <span class="k">end</span>
<span class="lineno">7</span>     <span class="n">simple_component</span> <span class="s1">&#39;component-1&#39;</span>
<span class="lineno">8</span>   <span class="k">end</span>
<span class="lineno">9</span> <span class="k">end</span><span class="o">.</span><span class="n">to_html!</span>
</pre></div>

<p>returns</p>
<div class="highlight"><pre><span class="lineno">1</span> <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;content&quot;</span><span class="nt">&gt;</span>
<span class="lineno">2</span>   <span class="nt">&lt;span</span> <span class="na">id=</span><span class="s">&quot;secret&quot;</span> <span class="na">class=</span><span class="s">&quot;left hidden&quot;</span><span class="nt">&gt;&lt;/span&gt;</span>
<span class="lineno">3</span>   <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;component-1&quot;</span> <span class="na">class=</span><span class="s">&quot;component&quot;</span><span class="nt">&gt;</span>
<span class="lineno">4</span>     <span class="nt">&lt;strong&gt;</span>something<span class="nt">&lt;/strong&gt;</span>
<span class="lineno">5</span>   <span class="nt">&lt;/div&gt;</span>
<span class="lineno">6</span>   <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;component-1&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
<span class="lineno">7</span> <span class="nt">&lt;/div&gt;</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="presentation.md">presentation.md</a>
            </aside>
            
            <aside class="page_number">
              22/32
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: presentation.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Benchmark Synthetic</h1></header>
            
            
            <section><p>Benchmatk can be found on github. It renders simple page with two collections. 'reuse' means that template is precompiled
and reused during benchmark.</p>
<pre><code>                               user     system      total        real
tenjin-reuse               2.040000   0.000000   2.040000 (  2.055140)
HammerBuilder::Standard    2.520000   0.000000   2.520000 (  2.519284)
fasterubis-reuse           2.580000   0.000000   2.580000 (  2.581407)
erubis-reuse               2.680000   0.000000   2.680000 (  2.690176)
HammerBuilder::Formatted   2.780000   0.000000   2.780000 (  2.794307)
erubis                     5.180000   0.000000   5.180000 (  5.183333)
fasterubis                 5.210000   0.000000   5.210000 (  5.219176)
tenjin                     7.650000   0.160000   7.810000 (  7.820490)
erector                    9.450000   0.010000   9.460000 (  9.471654)
markaby                   14.300000   0.000000  14.300000 ( 14.318844)
tagz                      33.430000   0.000000  33.430000 ( 33.483693)
</code></pre></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="presentation.md">presentation.md</a>
            </aside>
            
            <aside class="page_number">
              23/32
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: presentation.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Benchmark Synthetic</h1></header>
            
            
            <section><div id="container" style="width: 800px; height: 500px; margin: 0 auto"></div></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="presentation.md">presentation.md</a>
            </aside>
            
            <aside class="page_number">
              24/32
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: presentation.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Benchmark Rails 3</h1></header>
            
            
            <section><p>Benchmatk can be found on github.
Single page with or without a partial which is rendered 200 times. Partials make no diffrence for HammerBuilder.</p>
<pre><code>BenchTest#test_erubis_partials (3.34 sec warmup)
           wall_time: 3.56 sec
             gc_runs: 15
             gc_time: 0.53 ms
BenchTest#test_erubis_single (552 ms warmup)
           wall_time: 544 ms
             gc_runs: 4
             gc_time: 0.12 ms
BenchTest#test_hammer_builder (2.33 sec warmup)
           wall_time: 847 ms
             gc_runs: 5
             gc_time: 0.17 ms
BenchTest#test_tenjin_partial (942 ms warmup)
           wall_time: 1.21 sec
             gc_runs: 7
             gc_time: 0.25 ms
BenchTest#test_tenjin_single (531 ms warmup)
           wall_time: 532 ms
             gc_runs: 6
             gc_time: 0.20 ms
</code></pre></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="presentation.md">presentation.md</a>
            </aside>
            
            <aside class="page_number">
              25/32
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: presentation.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Benchmark Rails 3</h1></header>
            
            
            <section><div id="container2" style="width: 800px; height: 250px; margin: 0 auto"></div></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="presentation.md">presentation.md</a>
            </aside>
            
            <aside class="page_number">
              26/32
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: presentation.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Why is it fast?</h1></header>
            
            
            <section><ul>
<li>Optimalization of garbage collecting.<ul>
<li>10-15% improvment.</li>
<li>Preinicialization (tag's instances, even strings).</li>
<li>No string's <code>#+</code>, <code>#{}</code>. Just <code>#&lt;&lt;</code> to buffer.</li>
<li>Precomputed spaces for indentation.</li>
</ul>
</li>
<li>Doing as less as posible when rendering.</li>
<li>Magic by metaprograming not by <code>method_missing</code>. Magic is run on inicialization not when rendering.</li>
<li>Number of micro optimalization.<ul>
<li>Data in constants or instance variables.</li>
<li>Buffer.</li>
<li>No <code>#define_method</code>.</li>
<li>Method inlining.</li>
<li>Probably no real effect :)</li>
</ul>
</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="presentation.md">presentation.md</a>
            </aside>
            
            <aside class="page_number">
              27/32
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: presentation.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Future plans</h1></header>
            
            
            <section><ul>
<li>Sinatra</li>
<li>Rails 3</li>
<li>Helpers for fragment caching</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="presentation.md">presentation.md</a>
            </aside>
            
            <aside class="page_number">
              28/32
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: presentation.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Why use?</h1></header>
            
            
            <section><ul>
<li>Its fast</li>
<li>You can use inheritance (imposible with templates) and other goodness of Ruby</li>
<li>You can use pure Ruby to write the html</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="presentation.md">presentation.md</a>
            </aside>
            
            <aside class="page_number">
              29/32
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: presentation.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Links</h1></header>
            
            
            <section><ul>
<li><strong>Presentation</strong>: <a href="http://hammer.pitr.ch/hammer_builder/presentation/presentation.html">http://hammer.pitr.ch/hammer_builder/presentation/presentation.html</a></li>
<li>Github: <a href="https://github.com/ruby-hammer/hammer-builder">https://github.com/ruby-hammer/hammer-builder</a></li>
<li>Yardoc: <a href="http://rubydoc.info/gems/hammer_builder/frames">http://rubydoc.info/gems/hammer_builder/frames</a></li>
<li>Issues: <a href="https://github.com/ruby-hammer/hammer-builder/issues">https://github.com/ruby-hammer/hammer-builder/issues</a></li>
<li>Blog: <a href="http://hammer.pitr.ch/">http://hammer.pitr.ch/</a></li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="presentation.md">presentation.md</a>
            </aside>
            
            <aside class="page_number">
              30/32
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: presentation.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Thanks for listening / reading.</h1></header>
            
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="presentation.md">presentation.md</a>
            </aside>
            
            <aside class="page_number">
              31/32
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: presentation.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>TODO</h1></header>
            
            
            <section><p>Do some spellcheck. If you allready reading this, I am sorry :)</p>
<script type="text/javascript">
  var chart, chart2;
  $(document).ready(function() {
    chart = new Highcharts.Chart({
      chart: { renderTo: 'container', defaultSeriesType: 'bar' },
      title: { text: null },
      xAxis: {
        categories: ["tenjin-reuse",
          "HammerBuilder::Standard",
          "fasterubis-reuse",
          "erubis-reuse",
          "HammerBuilder::Formatted",
          "erubis",
          "fasterubis",
          "tenjin",
          "erector",
          "markaby",
          "tagz"],
        title: { text: null }
      },
      yAxis: { min: 0, title: { text: null }},
      tooltip: { enabled: false },
      plotOptions: {
        area: { backgroundColor: "AAAAAA" },
        series: { animation: false },
        bar: { dataLabels: { enabled: true }}
      },
      legend: { enabled: false },
      credits: { enabled: false },
      series: [
        { name: 'total',
          data: [2.040000,2.520000,2.580000,2.680000,2.780000,5.180000,5.210000,7.810000,9.460000,14.300000,33.430000]
        }
      ]
    });
    chart2 = new Highcharts.Chart({
      chart: { renderTo: 'container2', defaultSeriesType: 'bar' },
      title: { text: null },
      xAxis: {
        categories: ["Tenjin single template",
          "Erubis single template",
          "HammerBuilder::Formatted",
          "Tenjin partial templates",
          "Erubis partial templates"
        ],
        title: { text: null }
      },
      yAxis: { min: 0, title: { text: null }},
      tooltip: { enabled: false },
      plotOptions: {
        area: { backgroundColor: "AAAAAA" },
        series: { animation: false },
        bar: { dataLabels: { enabled: true }}
      },
      legend: { enabled: false },
      credits: { enabled: false },
      series: [
        { name: 'wall time',
          data: [0.532, 0.544, 0.847, 1.210, 3.560]
        }
      ]
    });
  });
</script></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="presentation.md">presentation.md</a>
            </aside>
            
            <aside class="page_number">
              32/32
            </aside>
          </footer>
        </div>
      </div>
      
    </div>
  </div>
  
  <div id="toc" class="sidebar hidden">
    <h2>Table of Contents</h2>
    <table>
      <caption>Table of Contents</caption>
      
      <tr id="toc-row-1">
        <th><a href="#slide1">HammerBuilder</a></th>
        <td><a href="#slide1">1</a></td>
      </tr>
      
      
      <tr id="toc-row-2">
        <th><a href="#slide2">Fast Ruby xhtml5, html5 renderer</a></th>
        <td><a href="#slide2">2</a></td>
      </tr>
      
      
      <tr id="toc-row-3">
        <th><a href="#slide3">Why?</a></th>
        <td><a href="#slide3">3</a></td>
      </tr>
      
      
      <tr id="toc-row-4">
        <th><a href="#slide4">Syntax</a></th>
        <td><a href="#slide4">4</a></td>
      </tr>
      
      
      <tr id="toc-row-5">
        <th><a href="#slide5">Chaining</a></th>
        <td><a href="#slide5">5</a></td>
      </tr>
      
      
      <tr id="toc-row-6">
        <th><a href="#slide6">Attributes</a></th>
        <td><a href="#slide6">6</a></td>
      </tr>
      
      
      <tr id="toc-row-7">
        <th><a href="#slide7">Content, Boolean attributes</a></th>
        <td><a href="#slide7">7</a></td>
      </tr>
      
      
      <tr id="toc-row-8">
        <th><a href="#slide8">Id, class and mimic</a></th>
        <td><a href="#slide8">8</a></td>
      </tr>
      
      
      <tr id="toc-row-9">
        <th><a href="#slide9">Data attributes, Join</a></th>
        <td><a href="#slide9">9</a></td>
      </tr>
      
      
      <tr id="toc-row-10">
        <th><a href="#slide10">Tag's reprezentation</a></th>
        <td><a href="#slide10">10</a></td>
      </tr>
      
      
      <tr id="toc-row-11">
        <th><a href="#slide11">Getting a builder</a></th>
        <td><a href="#slide11">11</a></td>
      </tr>
      
      
      <tr id="toc-row-12">
        <th><a href="#slide12">How to use</a></th>
        <td><a href="#slide12">12</a></td>
      </tr>
      
      
      <tr id="toc-row-13">
        <th><a href="#slide13">How to use 2</a></th>
        <td><a href="#slide13">13</a></td>
      </tr>
      
      
      <tr id="toc-row-14">
        <th><a href="#slide14">How to use 3</a></th>
        <td><a href="#slide14">14</a></td>
      </tr>
      
      
      <tr id="toc-row-15">
        <th><a href="#slide15">Contexts</a></th>
        <td><a href="#slide15">15</a></td>
      </tr>
      
      
      <tr id="toc-row-16">
        <th><a href="#slide16">Helpers</a></th>
        <td><a href="#slide16">16</a></td>
      </tr>
      
      
      <tr id="toc-row-17">
        <th><a href="#slide17">Implementation details - Tag's shared instances</a></th>
        <td><a href="#slide17">17</a></td>
      </tr>
      
      
      <tr id="toc-row-18">
        <th><a href="#slide18">Implementation details - DynamicClasses</a></th>
        <td><a href="#slide18">18</a></td>
      </tr>
      
      
      <tr id="toc-row-19">
        <th><a href="#slide19">Implementation details - DynamicClasses 2</a></th>
        <td><a href="#slide19">19</a></td>
      </tr>
      
      
      <tr id="toc-row-20">
        <th><a href="#slide20">Implementation details - DynamicClasses 3</a></th>
        <td><a href="#slide20">20</a></td>
      </tr>
      
      
      <tr id="toc-row-21">
        <th><a href="#slide21">Extensibility</a></th>
        <td><a href="#slide21">21</a></td>
      </tr>
      
      
      <tr id="toc-row-22">
        <th><a href="#slide22">Extensibility 2</a></th>
        <td><a href="#slide22">22</a></td>
      </tr>
      
      
      <tr id="toc-row-23">
        <th><a href="#slide23">Benchmark Synthetic</a></th>
        <td><a href="#slide23">23</a></td>
      </tr>
      
      
      <tr id="toc-row-24">
        <th><a href="#slide24">Benchmark Synthetic</a></th>
        <td><a href="#slide24">24</a></td>
      </tr>
      
      
      <tr id="toc-row-25">
        <th><a href="#slide25">Benchmark Rails 3</a></th>
        <td><a href="#slide25">25</a></td>
      </tr>
      
      
      <tr id="toc-row-26">
        <th><a href="#slide26">Benchmark Rails 3</a></th>
        <td><a href="#slide26">26</a></td>
      </tr>
      
      
      <tr id="toc-row-27">
        <th><a href="#slide27">Why is it fast?</a></th>
        <td><a href="#slide27">27</a></td>
      </tr>
      
      
      <tr id="toc-row-28">
        <th><a href="#slide28">Future plans</a></th>
        <td><a href="#slide28">28</a></td>
      </tr>
      
      
      <tr id="toc-row-29">
        <th><a href="#slide29">Why use?</a></th>
        <td><a href="#slide29">29</a></td>
      </tr>
      
      
      <tr id="toc-row-30">
        <th><a href="#slide30">Links</a></th>
        <td><a href="#slide30">30</a></td>
      </tr>
      
      
      <tr id="toc-row-31">
        <th><a href="#slide31">Thanks for listening / reading.</a></th>
        <td><a href="#slide31">31</a></td>
      </tr>
      
      
      <tr id="toc-row-32">
        <th><a href="#slide32">TODO</a></th>
        <td><a href="#slide32">32</a></td>
      </tr>
      
      
    </table>
  </div>
  
  <div id="help" class="sidebar hidden">
    <h2>Help</h2>
    <table>
      <caption>Help</caption>
      <tr>
        <th>Table of Contents</th>
        <td>t</td>
      </tr>
      <tr>
        <th>Expos</th>
        <td>ESC</td>
      </tr>
      <tr>
        <th>Full screen slides</th>
        <td>e</td>
      </tr>
      <tr>
        <th>Presenter View</th>
        <td>p</td>
      </tr>
      <tr>
        <th>Source Files</th>
        <td>s</td>
      </tr>
      <tr>
        <th>Slide Numbers</th>
        <td>n</td>
      </tr>
      <tr>
        <th>Toggle screen blanking</th>
        <td>b</td>
      </tr>
      <tr>
        <th>Show/hide slide context</th>
        <td>c</td>
      </tr>
      <tr>
        <th>Notes</th>
        <td>2</td>
      </tr>
      <tr>
        <th>Help</th>
        <td>h</td>
      </tr>
    </table>
  </div>
  <script>main()</script>
</body>
</html>